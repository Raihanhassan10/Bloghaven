{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rihan\\\\Downloads\\\\Blog-Website-main\\\\Blog-Website-main\\\\client\\\\src\\\\components\\\\Post\\\\CreateView.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Box, makeStyles, FormControl, InputBase, Button, TextareaAutosize } from \"@material-ui/core\";\nimport { AddCircle } from \"@material-ui/icons\";\nimport { useHistory } from 'react-router-dom';\nimport { createPost, uploadFile } from \"../../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Styles = makeStyles(_c = theme => ({\n  container: {\n    padding: \"0px 100px\",\n    [theme.breakpoints.down(\"md\")]: {\n      padding: 0\n    }\n  },\n  image: {\n    width: \"100%\",\n    height: \"50vh\",\n    objectFit: \"cover\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: \"10px\"\n  },\n  textfield: {\n    flex: 1,\n    fontSize: 24,\n    margin: \"0px 25px\"\n  },\n  textarea: {\n    marginTop: 10,\n    width: \"100%\",\n    border: \"none\",\n    fontSize: 20,\n    \"&:focus-visible\": {\n      outline: \"none\"\n    }\n  }\n}));\n_c2 = Styles;\nconst initialValues = {\n  title: \"\",\n  description: \"\",\n  picture: \"\",\n  username: \"raihanhassan10\",\n  categories: \"All\",\n  createdDate: new Date()\n};\n\nconst CreateView = () => {\n  _s();\n\n  const classes = Styles();\n  const history = useHistory();\n  const [post, setPost] = useState(initialValues);\n  const [file, setFile] = useState('');\n  const [image, setImage] = useState('');\n  const url = post.picture ? post.picture : \"https://images.pexels.com/photos/374631/pexels-photo-374631.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\n  useEffect(() => {\n    const getImage = async () => {\n      if (file) {\n        const data = new FormData();\n        data.append(\"name\", file.name);\n        data.append(\"file\", file);\n        let image = await uploadFile(data);\n        post.picture = image.data;\n        setImage(image.data);\n      }\n    };\n\n    getImage();\n  }, [file, post]);\n\n  const handleChange = e => {\n    setPost({ ...post,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const savePost = async () => {\n    await createPost(post);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      alt: \"post\",\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      className: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileInput\",\n        children: /*#__PURE__*/_jsxDEV(AddCircle, {\n          fontSize: \"large\",\n          color: \"error\",\n          cursor: \"pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        style: {\n          display: 'none'\n        },\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        onChange: e => handleChange(e),\n        placeholder: \"Title ...\",\n        className: classes.textfield,\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => savePost(),\n        variant: \"contained\",\n        color: \"primary\",\n        cursor: \"pointer\",\n        children: \"Publish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n      className: classes.textarea,\n      minRows: 5,\n      placeholder: \"Write your story ...\",\n      name: \"description\",\n      onChange: e => handleChange(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateView, \"XnfLXej7ZC6gmDvNZYVM92G5ipc=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = CreateView;\nexport default CreateView;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Styles$makeStyles\");\n$RefreshReg$(_c2, \"Styles\");\n$RefreshReg$(_c3, \"CreateView\");","map":{"version":3,"names":["useState","useEffect","Box","makeStyles","FormControl","InputBase","Button","TextareaAutosize","AddCircle","useHistory","createPost","uploadFile","Styles","theme","container","padding","breakpoints","down","image","width","height","objectFit","form","display","flexDirection","marginTop","textfield","flex","fontSize","margin","textarea","border","outline","initialValues","title","description","picture","username","categories","createdDate","Date","CreateView","classes","history","post","setPost","file","setFile","setImage","url","getImage","data","FormData","append","name","handleChange","e","target","value","savePost","push","files"],"sources":["C:/Users/rihan/Downloads/Blog-Website-main/Blog-Website-main/client/src/components/Post/CreateView.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Box, makeStyles, FormControl, InputBase, Button, TextareaAutosize } from \"@material-ui/core\";\r\nimport { AddCircle } from \"@material-ui/icons\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { createPost, uploadFile } from \"../../services/api\";\r\n\r\nconst Styles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: \"0px 100px\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      padding: 0,\r\n    },\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    height: \"50vh\",\r\n    objectFit: \"cover\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    marginTop: \"10px\",\r\n  },\r\n  textfield: {\r\n    flex: 1,\r\n    fontSize: 24,\r\n    margin: \"0px 25px\",\r\n  },\r\n  textarea: {\r\n    marginTop: 10,\r\n    width: \"100%\",\r\n    border: \"none\",\r\n    fontSize: 20,\r\n    \"&:focus-visible\": {\r\n      outline: \"none\",\r\n    },\r\n  },\r\n}));\r\nconst initialValues = {\r\n  title: \"\",\r\n  description: \"\",\r\n  picture: \"\",\r\n  username: \"raihanhassan10\",\r\n  categories: \"All\",\r\n  createdDate: new Date(),\r\n};\r\nconst CreateView = () => {\r\n  const classes = Styles();\r\n  const history = useHistory();\r\n  const [post, setPost] = useState(initialValues);\r\n  const [file, setFile] = useState('');\r\n  const [image, setImage] = useState('');\r\n\r\n  const url = post.picture ? post.picture : \"https://images.pexels.com/photos/374631/pexels-photo-374631.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\r\n\r\n\r\n  useEffect(() => {\r\n    const getImage = async () => {\r\n      if (file) {\r\n        const data = new FormData();\r\n        data.append(\"name\", file.name);\r\n        data.append(\"file\", file);\r\n\r\n        let image = await uploadFile(data);\r\n        post.picture = image.data;\r\n        setImage(image.data);\r\n      }\r\n    }\r\n    getImage();\r\n  }, [file, post])\r\n  const handleChange = (e) => {\r\n    setPost({ ...post, [e.target.name]: e.target.value })\r\n  }\r\n  const savePost = async () => {\r\n    await createPost(post);\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <Box className={classes.container}>\r\n      <img src={url} alt=\"post\" className={classes.image} />\r\n      <FormControl className={classes.form}>\r\n        <label htmlFor='fileInput'>\r\n          <AddCircle fontSize=\"large\" color=\"error\" cursor='pointer' />\r\n        </label>\r\n        <input\r\n          type='file'\r\n          id='fileInput'\r\n          style={{ display: 'none' }}\r\n          onChange={(e) => setFile(e.target.files[0])}\r\n        />\r\n        <InputBase\r\n          onChange={(e) => handleChange(e)}\r\n          placeholder=\"Title ...\"\r\n          className={classes.textfield}\r\n          name='title'\r\n        />\r\n        <Button onClick={() => savePost()} variant=\"contained\" color=\"primary\" cursor='pointer'>Publish</Button>\r\n      </FormControl>\r\n      <TextareaAutosize\r\n        className={classes.textarea}\r\n        minRows={5}\r\n        placeholder=\"Write your story ...\"\r\n        name='description'\r\n        onChange={(e) => handleChange(e)}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CreateView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}