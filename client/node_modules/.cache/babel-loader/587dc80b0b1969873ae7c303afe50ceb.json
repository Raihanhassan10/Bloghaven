{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rihan\\\\Downloads\\\\Blog-Website-main\\\\Blog-Website-main\\\\client\\\\src\\\\components\\\\Post\\\\CreateView.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Box, makeStyles, FormControl, InputBase, Button, TextareaAutosize } from \"@material-ui/core\";\nimport { AddCircle } from \"@material-ui/icons\";\nimport { useHistory } from 'react-router-dom';\nimport { createPost, uploadFile } from \"../../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Styles = makeStyles(_c = theme => ({\n  container: {\n    padding: \"0px 100px\",\n    [theme.breakpoints.down(\"md\")]: {\n      padding: 0\n    }\n  },\n  image: {\n    width: \"100%\",\n    height: \"50vh\",\n    objectFit: \"cover\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: \"10px\"\n  },\n  textfield: {\n    flex: 1,\n    fontSize: 24,\n    margin: \"0px 25px\"\n  },\n  textarea: {\n    marginTop: 10,\n    width: \"100%\",\n    border: \"none\",\n    fontSize: 20,\n    \"&:focus-visible\": {\n      outline: \"none\"\n    }\n  }\n}));\n_c2 = Styles;\nconst initialValues = {\n  title: \"\",\n  description: \"\",\n  picture: \"\",\n  username: \"raihanhassan10\",\n  categories: \"All\",\n  createdDate: new Date()\n};\n\nconst CreateView = () => {\n  _s();\n\n  const classes = Styles();\n  const history = useHistory();\n  const [post, setPost] = useState(initialValues);\n  const [file, setFile] = useState('');\n  const [image, setImage] = useState('');\n  const url = post.picture ? post.picture : \"https://images.pexels.com/photos/374631/pexels-photo-374631.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\n  useEffect(() => {\n    const getImage = async () => {\n      if (file) {\n        const data = new FormData();\n        data.append(\"name\", file.name);\n        data.append(\"file\", file);\n        let image = await uploadFile(data);\n        post.picture = image.data;\n        setImage(image.data);\n      }\n    };\n\n    getImage();\n  }, [file, post]);\n\n  const handleChange = e => {\n    setPost({ ...post,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const savePost = async () => {\n    await createPost(post);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      alt: \"post\",\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      className: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileInput\",\n        children: /*#__PURE__*/_jsxDEV(AddCircle, {\n          fontSize: \"large\",\n          color: \"error\",\n          cursor: \"pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        style: {\n          display: 'none'\n        },\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        onChange: e => handleChange(e),\n        placeholder: \"Title ...\",\n        className: classes.textfield,\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => savePost(),\n        variant: \"contained\",\n        color: \"primary\",\n        cursor: \"pointer\",\n        children: \"Publish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n      className: classes.textarea,\n      minRows: 5,\n      placeholder: \"Write your story ...\",\n      name: \"description\",\n      onChange: e => handleChange(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateView, \"XnfLXej7ZC6gmDvNZYVM92G5ipc=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = CreateView;\nexport default CreateView;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Styles$makeStyles\");\n$RefreshReg$(_c2, \"Styles\");\n$RefreshReg$(_c3, \"CreateView\");","map":{"version":3,"sources":["C:/Users/rihan/Downloads/Blog-Website-main/Blog-Website-main/client/src/components/Post/CreateView.jsx"],"names":["useState","useEffect","Box","makeStyles","FormControl","InputBase","Button","TextareaAutosize","AddCircle","useHistory","createPost","uploadFile","Styles","theme","container","padding","breakpoints","down","image","width","height","objectFit","form","display","flexDirection","marginTop","textfield","flex","fontSize","margin","textarea","border","outline","initialValues","title","description","picture","username","categories","createdDate","Date","CreateView","classes","history","post","setPost","file","setFile","setImage","url","getImage","data","FormData","append","name","handleChange","e","target","value","savePost","push","files"],"mappings":"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","sourcesContent":["import { useState,useEffect } from \"react\";\r\nimport {Box, makeStyles, FormControl, InputBase, Button, TextareaAutosize} from \"@material-ui/core\";\r\nimport { AddCircle } from \"@material-ui/icons\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { createPost, uploadFile } from \"../../services/api\";\r\n\r\nconst Styles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: \"0px 100px\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      padding: 0,\r\n    },\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    height: \"50vh\",\r\n    objectFit: \"cover\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    marginTop: \"10px\",\r\n  },\r\n  textfield: {\r\n    flex: 1,\r\n    fontSize: 24,\r\n    margin: \"0px 25px\",\r\n  },\r\n  textarea: {\r\n    marginTop: 10,\r\n    width: \"100%\",\r\n    border: \"none\",\r\n    fontSize: 20,\r\n    \"&:focus-visible\": {\r\n      outline: \"none\",\r\n    },\r\n  },\r\n}));\r\nconst initialValues = {\r\n  title: \"\",\r\n  description: \"\",\r\n  picture: \"\",\r\n  username: \"raihanhassan10\",\r\n  categories: \"All\",\r\n  createdDate: new Date(),\r\n};\r\nconst CreateView = () => {\r\n  const classes = Styles();\r\n  const history = useHistory();\r\n  const [post, setPost] = useState(initialValues);\r\n  const [file, setFile] = useState('');\r\n  const [image, setImage] = useState('');\r\n  \r\n  const url = post.picture ? post.picture : \"https://images.pexels.com/photos/374631/pexels-photo-374631.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\r\n  \r\n\r\n  useEffect (()=> {\r\n    const getImage = async () =>{\r\n      if(file){\r\n        const data = new FormData();\r\n        data.append(\"name\",file.name);\r\n        data.append(\"file\",file);\r\n        \r\n        let image = await uploadFile(data);\r\n        post.picture = image.data;\r\n        setImage(image.data);\r\n      }\r\n    }\r\n    getImage();\r\n  }, [file,post])\r\n  const handleChange = (e) =>{\r\n    setPost({...post,[e.target.name]: e.target.value})\r\n  }\r\n  const savePost = async () => {\r\n    await createPost(post);\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <Box className={classes.container}>\r\n      <img src={url} alt=\"post\" className={classes.image} />\r\n      <FormControl className={classes.form}>\r\n        <label htmlFor='fileInput'>\r\n        <AddCircle fontSize=\"large\" color=\"error\" cursor='pointer' />\r\n        </label>\r\n        <input \r\n          type='file'\r\n          id='fileInput'\r\n          style={{display:'none'}}\r\n          onChange ={(e) => setFile(e.target.files[0])}\r\n        />\r\n        <InputBase\r\n          onChange={(e) => handleChange(e)}\r\n          placeholder=\"Title ...\"\r\n          className={classes.textfield}\r\n          name='title'\r\n        />\r\n        <Button onClick={()=> savePost()} variant=\"contained\" color=\"primary\" cursor='pointer'>Publish</Button>\r\n      </FormControl>\r\n      <TextareaAutosize\r\n        className={classes.textarea}\r\n        minRows={5}\r\n        placeholder=\"Write your story ...\"\r\n        name='description'\r\n        onChange={(e) => handleChange(e)}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CreateView;"]},"metadata":{},"sourceType":"module"}